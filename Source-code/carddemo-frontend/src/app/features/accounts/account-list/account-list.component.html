<div class="account-list-container">
  <div class="account-list-card">
    <div class="header">
      <h2>Account Management</h2>
      <h3>Account List</h3>
    </div>

    <div class="search-section">
      <div class="form-group">
        <label for="accountId">Account ID:</label>
        <input 
          type="text" 
          id="accountId" 
          [(ngModel)]="searchAccountId"
          maxlength="11"
          placeholder="Enter account ID to search">
      </div>
      <div class="button-group">
        <button (click)="onSearch()" class="btn btn-primary" [disabled]="loading">Search</button>
        <button (click)="onClear()" class="btn btn-secondary" [disabled]="loading">Clear</button>
        <button (click)="goBack()" class="btn btn-secondary">Back to Menu</button>
      </div>
    </div>

    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>

    <div *ngIf="loading" class="loading">Loading accounts...</div>

    <div *ngIf="!loading && accounts.length > 0" class="table-container">
      <table class="account-table">
        <thead>
          <tr>
            <th>Account ID</th>
            <th>Customer Name</th>
            <th>Status</th>
            <th>Credit Limit</th>
            <th>Current Balance</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let account of accounts">
            <td>{{ account.account_id }}</td>
            <td>{{ account.first_name }} {{ account.last_name }}</td>
            <td>
              <span [class.status-active]="account.account_status === 'Y'" 
                    [class.status-inactive]="account.account_status !== 'Y'">
                {{ account.account_status === 'Y' ? 'Active' : 'Inactive' }}
              </span>
            </td>
            <td class="currency">${{ account.credit_limit | number:'1.2-2' }}</td>
            <td class="currency">${{ account.current_balance | number:'1.2-2' }}</td>
            <td>
              <button (click)="viewAccount(account.account_id)" class="btn btn-sm btn-info">View</button>
            </td>
          </tr>
        </tbody>
      </table>

      <div class="pagination">
        <button (click)="previousPage()" [disabled]="currentPage === 1" class="btn btn-secondary">Previous</button>
        <span class="page-info">Page {{ currentPage }} ({{ totalRecords }} total records)</span>
        <button (click)="nextPage()" [disabled]="currentPage * pageSize >= totalRecords" class="btn btn-secondary">Next</button>
      </div>
    </div>

    <div *ngIf="!loading && accounts.length === 0" class="no-results">
      No accounts found.
    </div>
  </div>
</div>
