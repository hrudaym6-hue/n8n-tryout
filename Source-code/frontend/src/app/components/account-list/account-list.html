<div class="account-list-container">
  <div class="header">
    <h2>Account List</h2>
    <button class="btn btn-primary" (click)="onAddAccount()">Add New Account</button>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <div *ngIf="isLoading" class="loading">
    Loading accounts...
  </div>

  <div *ngIf="!isLoading && accounts.length > 0" class="accounts-table">
    <table>
      <thead>
        <tr>
          <th>Account ID</th>
          <th>Customer Name</th>
          <th>Status</th>
          <th>Credit Limit</th>
          <th>Current Balance</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let accountDetail of accounts">
          <td>{{ accountDetail.account.accountId }}</td>
          <td>{{ accountDetail.customer.firstName }} {{ accountDetail.customer.lastName }}</td>
          <td>
            <span class="status" [class.active]="accountDetail.account.accountStatus === 'A'">
              {{ accountDetail.account.accountStatus === 'A' ? 'Active' : 'Inactive' }}
            </span>
          </td>
          <td>{{ accountDetail.account.creditLimit | currency }}</td>
          <td>{{ accountDetail.account.currBalance | currency }}</td>
          <td class="actions">
            <button class="btn btn-sm btn-info" (click)="onViewAccount(accountDetail.account.accountId)">View</button>
            <button class="btn btn-sm btn-warning" (click)="onUpdateAccount(accountDetail.account.accountId)">Update</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="pagination">
      <button 
        class="btn btn-secondary" 
        (click)="onPreviousPage()" 
        [disabled]="currentPage === 1">
        Previous
      </button>
      <span class="page-info">Page {{ currentPage }} of {{ totalPages }} ({{ totalAccounts }} total accounts)</span>
      <button 
        class="btn btn-secondary" 
        (click)="onNextPage()" 
        [disabled]="currentPage === totalPages">
        Next
      </button>
    </div>
  </div>

  <div *ngIf="!isLoading && accounts.length === 0 && !errorMessage" class="no-accounts">
    No accounts found.
  </div>

  <div class="footer">
    <button class="btn btn-secondary" (click)="onBack()">Back to Menu</button>
  </div>
</div>
